{"remainingRequest":"/Users/oluwatobiadeoye/Desktop/coach/node_modules/babel-loader/lib/index.js!/Users/oluwatobiadeoye/Desktop/coach/node_modules/eslint-loader/index.js??ref--13-0!/Users/oluwatobiadeoye/Desktop/coach/src/store/modules/coaches/actions.js","dependencies":[{"path":"/Users/oluwatobiadeoye/Desktop/coach/src/store/modules/coaches/actions.js","mtime":1598411934000},{"path":"/Users/oluwatobiadeoye/Desktop/coach/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/oluwatobiadeoye/Desktop/coach/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/oluwatobiadeoye/Desktop/coach/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3ltYm9sLmRlc2NyaXB0aW9uIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9Vc2Vycy9vbHV3YXRvYmlhZGVveWUvRGVza3RvcC9jb2FjaC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9vbHV3YXRvYmlhZGVveWUvRGVza3RvcC9jb2FjaC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmV4cG9ydCBkZWZhdWx0IHsKICByZWdpc3RlckNvYWNoOiBmdW5jdGlvbiByZWdpc3RlckNvYWNoKGNvbnRleHQsIGRhdGEpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciB1c2VySWQsIGNvYWNoRGF0YSwgcmVzcG9uc2U7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICB1c2VySWQgPSBjb250ZXh0LnJvb3RHZXR0ZXJzLnVzZXJJZDsKICAgICAgICAgICAgICBjb2FjaERhdGEgPSB7CiAgICAgICAgICAgICAgICBmaXJzdE5hbWU6IGRhdGEuZmlyc3QsCiAgICAgICAgICAgICAgICBsYXN0TmFtZTogZGF0YS5sYXN0LAogICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGRhdGEuZGVzYywKICAgICAgICAgICAgICAgIGhvdXJseVJhdGU6IGRhdGEucmF0ZSwKICAgICAgICAgICAgICAgIGFyZWFzOiBkYXRhLmFyZWFzCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gZmV0Y2goImh0dHBzOi8vdnVlLWh0dHAtZGVtby04NWU5ZS5maXJlYmFzZWlvLmNvbS9jb2FjaGVzLyIuY29uY2F0KHVzZXJJZCwgIi5qc29uIiksIHsKICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsCiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShjb2FjaERhdGEpCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50OwoKICAgICAgICAgICAgICAvLyBjb25zdCByZXNwb25zZURhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7CiAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgey8vIGVycm9yIC4uLgogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY29udGV4dC5jb21taXQoJ3JlZ2lzdGVyQ29hY2gnLCBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGNvYWNoRGF0YSksIHt9LCB7CiAgICAgICAgICAgICAgICBpZDogdXNlcklkCiAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgbG9hZENvYWNoZXM6IGZ1bmN0aW9uIGxvYWRDb2FjaGVzKGNvbnRleHQsIHBheWxvYWQpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICB2YXIgcmVzcG9uc2UsIHJlc3BvbnNlRGF0YSwgZXJyb3IsIGNvYWNoZXMsIGtleSwgY29hY2g7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgaWYgKCEoIXBheWxvYWQuZm9yY2VSZWZyZXNoICYmICFjb250ZXh0LmdldHRlcnMuc2hvdWxkVXBkYXRlKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0OwogICAgICAgICAgICAgIHJldHVybiBmZXRjaCgiaHR0cHM6Ly92dWUtaHR0cC1kZW1vLTg1ZTllLmZpcmViYXNlaW8uY29tL2NvYWNoZXMuanNvbiIpOwoKICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA3OwogICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CgogICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgIGlmIChyZXNwb25zZS5vaykgewogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgZXJyb3IgPSBuZXcgRXJyb3IocmVzcG9uc2VEYXRhLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBmZXRjaCEnKTsKICAgICAgICAgICAgICB0aHJvdyBlcnJvcjsKCiAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgY29hY2hlcyA9IFtdOwoKICAgICAgICAgICAgICBmb3IgKGtleSBpbiByZXNwb25zZURhdGEpIHsKICAgICAgICAgICAgICAgIGNvYWNoID0gewogICAgICAgICAgICAgICAgICBpZDoga2V5LAogICAgICAgICAgICAgICAgICBmaXJzdE5hbWU6IHJlc3BvbnNlRGF0YVtrZXldLmZpcnN0TmFtZSwKICAgICAgICAgICAgICAgICAgbGFzdE5hbWU6IHJlc3BvbnNlRGF0YVtrZXldLmxhc3ROYW1lLAogICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogcmVzcG9uc2VEYXRhW2tleV0uZGVzY3JpcHRpb24sCiAgICAgICAgICAgICAgICAgIGhvdXJseVJhdGU6IHJlc3BvbnNlRGF0YVtrZXldLmhvdXJseVJhdGUsCiAgICAgICAgICAgICAgICAgIGFyZWFzOiByZXNwb25zZURhdGFba2V5XS5hcmVhcwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIGNvYWNoZXMucHVzaChjb2FjaCk7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjb250ZXh0LmNvbW1pdCgnc2V0Q29hY2hlcycsIGNvYWNoZXMpOwogICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCdzZXRGZXRjaFRpbWVzdGFtcCcpOwoKICAgICAgICAgICAgY2FzZSAxNToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUyKTsKICAgIH0pKSgpOwogIH0KfTs="},{"version":3,"sources":["/Users/oluwatobiadeoye/Desktop/coach/src/store/modules/coaches/actions.js"],"names":["registerCoach","context","data","userId","rootGetters","coachData","firstName","first","lastName","last","description","desc","hourlyRate","rate","areas","fetch","method","body","JSON","stringify","response","ok","commit","id","loadCoaches","payload","forceRefresh","getters","shouldUpdate","json","responseData","error","Error","message","coaches","key","coach","push"],"mappings":";;;;;;AAAA,eAAe;AACPA,EAAAA,aADO,yBACOC,OADP,EACgBC,IADhB,EACsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAC3BC,cAAAA,MAD2B,GAClBF,OAAO,CAACG,WAAR,CAAoBD,MADF;AAE3BE,cAAAA,SAF2B,GAEf;AAChBC,gBAAAA,SAAS,EAAEJ,IAAI,CAACK,KADA;AAEhBC,gBAAAA,QAAQ,EAAEN,IAAI,CAACO,IAFC;AAGhBC,gBAAAA,WAAW,EAAER,IAAI,CAACS,IAHF;AAIhBC,gBAAAA,UAAU,EAAEV,IAAI,CAACW,IAJD;AAKhBC,gBAAAA,KAAK,EAAEZ,IAAI,CAACY;AALI,eAFe;AAAA;AAAA,qBAUVC,KAAK,8DAC4BZ,MAD5B,YAE1B;AACEa,gBAAAA,MAAM,EAAE,KADV;AAEEC,gBAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAed,SAAf;AAFR,eAF0B,CAVK;;AAAA;AAU3Be,cAAAA,QAV2B;;AAkBjC;AAEA,kBAAI,CAACA,QAAQ,CAACC,EAAd,EAAkB,CAChB;AACD;;AAEDpB,cAAAA,OAAO,CAACqB,MAAR,CAAe,eAAf,kCACKjB,SADL;AAEEkB,gBAAAA,EAAE,EAAEpB;AAFN;;AAxBiC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA4BlC,GA7BY;AA8BPqB,EAAAA,WA9BO,uBA8BKvB,OA9BL,EA8BcwB,OA9Bd,EA8BuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAC9B,CAACA,OAAO,CAACC,YAAT,IAAyB,CAACzB,OAAO,CAAC0B,OAAR,CAAgBC,YADZ;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA,qBAKXb,KAAK,2DALM;;AAAA;AAK5BK,cAAAA,QAL4B;AAAA;AAAA,qBAQPA,QAAQ,CAACS,IAAT,EARO;;AAAA;AAQ5BC,cAAAA,YAR4B;;AAAA,kBAU7BV,QAAQ,CAACC,EAVoB;AAAA;AAAA;AAAA;;AAW1BU,cAAAA,KAX0B,GAWlB,IAAIC,KAAJ,CAAUF,YAAY,CAACG,OAAb,IAAwB,kBAAlC,CAXkB;AAAA,oBAY1BF,KAZ0B;;AAAA;AAe5BG,cAAAA,OAf4B,GAelB,EAfkB;;AAiBlC,mBAAWC,GAAX,IAAkBL,YAAlB,EAAgC;AACxBM,gBAAAA,KADwB,GAChB;AACZb,kBAAAA,EAAE,EAAEY,GADQ;AAEZ7B,kBAAAA,SAAS,EAAEwB,YAAY,CAACK,GAAD,CAAZ,CAAkB7B,SAFjB;AAGZE,kBAAAA,QAAQ,EAAEsB,YAAY,CAACK,GAAD,CAAZ,CAAkB3B,QAHhB;AAIZE,kBAAAA,WAAW,EAAEoB,YAAY,CAACK,GAAD,CAAZ,CAAkBzB,WAJnB;AAKZE,kBAAAA,UAAU,EAAEkB,YAAY,CAACK,GAAD,CAAZ,CAAkBvB,UALlB;AAMZE,kBAAAA,KAAK,EAAEgB,YAAY,CAACK,GAAD,CAAZ,CAAkBrB;AANb,iBADgB;AAS9BoB,gBAAAA,OAAO,CAACG,IAAR,CAAaD,KAAb;AACD;;AAEDnC,cAAAA,OAAO,CAACqB,MAAR,CAAe,YAAf,EAA6BY,OAA7B;AACAjC,cAAAA,OAAO,CAACqB,MAAR,CAAe,mBAAf;;AA9BkC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA+BnC;AA7DY,CAAf","sourcesContent":["export default {\n  async registerCoach(context, data) {\n    const userId = context.rootGetters.userId;\n    const coachData = {\n      firstName: data.first,\n      lastName: data.last,\n      description: data.desc,\n      hourlyRate: data.rate,\n      areas: data.areas\n    };\n\n    const response = await fetch(\n      `https://vue-http-demo-85e9e.firebaseio.com/coaches/${userId}.json`,\n      {\n        method: 'PUT',\n        body: JSON.stringify(coachData)\n      }\n    );\n\n    // const responseData = await response.json();\n\n    if (!response.ok) {\n      // error ...\n    }\n\n    context.commit('registerCoach', {\n      ...coachData,\n      id: userId\n    });\n  },\n  async loadCoaches(context, payload) {\n    if (!payload.forceRefresh && !context.getters.shouldUpdate) {\n      return;\n    }\n\n    const response = await fetch(\n      `https://vue-http-demo-85e9e.firebaseio.com/coaches.json`\n    );\n    const responseData = await response.json();\n\n    if (!response.ok) {\n      const error = new Error(responseData.message || 'Failed to fetch!');\n      throw error;\n    }\n\n    const coaches = [];\n\n    for (const key in responseData) {\n      const coach = {\n        id: key,\n        firstName: responseData[key].firstName,\n        lastName: responseData[key].lastName,\n        description: responseData[key].description,\n        hourlyRate: responseData[key].hourlyRate,\n        areas: responseData[key].areas\n      };\n      coaches.push(coach);\n    }\n\n    context.commit('setCoaches', coaches);\n    context.commit('setFetchTimestamp');\n  }\n};\n"]}]}